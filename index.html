<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Trends | Workout SNS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ================== Styles ================== -->
  <link rel="stylesheet" href="styles.css">
  

  <!-- 右上の小さいナビボタン -->
  
  <!-- ================== Supabase Frontend ================== -->
  <script type="module" src="app.js"></script>
</head>
<body>
  <div class="page">
    <header>
      <div class="title-block">
        <div id="app-title">Trends</div>
    
        <!-- ここがミニナビ -->
        <div class="mini-nav">
          <button class="mini-nav-btn is-active" data-page-target="feed" id="nav-feed">フィード</button>
          <button class="mini-nav-btn" data-page-target="account" id="nav-account">アカウント</button>
          <button class="mini-nav-btn" data-page-target="settings" id="nav-settings">設定</button>
        </div>
      </div>
    
      <div id="app-sub">筋トレ専用SNS / シンプルなログ</div>
    
      <div class="top-controls">
        <button class="btn btn-primary" id="btn-open-post">新規投稿</button>
        <select id="lang-select" class="select-sm">
          <option value="ja">日本語</option>
          <option value="en">English</option>
        </select>
      </div>
    </header>
    <div class="mini-header" id="mini-header">
      <div class="mini-header-title" id="mini-header-title">Trends</div>
      <div class="mini-nav">
        <button class="mini-nav-btn" data-page-target="feed" id="mini-nav-feed">フィード</button>
        <button class="mini-nav-btn" data-page-target="account" id="mini-nav-account">アカウント</button>
        <button class="mini-nav-btn" data-page-target="settings" id="mini-nav-settings">設定</button>
      </div>
      <div class="mini-header-actions">
        <button class="btn btn-ghost btn-xs" id="mini-btn-top">上へ</button>
        <button class="btn btn-primary" id="mini-btn-post">投稿</button>
      </div>
      <div class="mini-progress" aria-hidden="true">
        <div class="mini-progress-bar" id="mini-progress-bar"></div>
      </div>
    </div>

    <div class="layout">

      <!-- Feed ページ -->
      <div class="page-view is-active" data-page="feed">
        <section class="card">
          <div class="feed-header">
            <div class="card-title" id="feed-title">Feed</div>
            <div class="feed-search-wrap">
              <input
                id="feed-search"
                type="text"
                placeholder="caption / handle / メモで検索"
              />
              <button class="btn btn-ghost btn-xs" id="btn-feed-refresh">更新</button>
            </div>
          </div>
  
          <!-- すべて / 自分 -->
          <div class="feed-filters">
            <div class="chips">
              <button class="chip chip-active" id="filter-all">すべて</button>
              <button class="chip" id="filter-mine">自分</button>
            </div>
            <div class="feed-actions">
              <div class="feed-sort">
                <select id="feed-sort" class="select-sm">
                  <option value="newest" id="sort-newest">Newest</option>
                  <option value="oldest" id="sort-oldest">Oldest</option>
                </select>
              </div>
              <button class="btn btn-ghost btn-xs" id="btn-feed-layout">グリッド</button>
            </div>
          </div>

          <div class="stat-grid" id="feed-stat-grid">
            <div class="stat-item">
              <div class="stat-label" id="stat-today-label">今日の投稿</div>
              <div class="stat-value" id="stat-today">-</div>
            </div>
            <div class="stat-item">
              <div class="stat-label" id="stat-streak-label">連続記録</div>
              <div class="stat-value" id="stat-streak">-</div>
            </div>
            <div class="stat-item">
              <div class="stat-label" id="stat-total-label">合計</div>
              <div class="stat-value" id="stat-total">-</div>
            </div>
          </div>

          <div id="feed-status" class="template-status"></div>

          <!-- 投稿一覧 -->
          <div id="feed-list" class="feed-list"></div>
          <div class="feed-more hidden" id="feed-more-wrap">
            <div class="feed-more-hint" id="feed-more-hint"></div>
            <button class="btn btn-ghost" id="btn-feed-more">もっと見る</button>
          </div>
         
        </section>
      </div>
  
      <!-- アカウント ページ -->
      <div class="page-view" data-page="account">
        <section id="panel-account" class="card side-panel">
          <div class="card-title" id="account-title">アカウント</div>
      
          <!-- ログイン中のユーザー名を表示 -->
          <div class="account-row">
            <div class="account-name" id="account-user"></div>
          </div>
      
          <input id="auth-email" type="email" placeholder="email@example.com" />
          <input id="auth-password" type="password" placeholder="Password" />
      
          <div class="account-buttons">
            <button class="btn btn-primary" id="btn-auth">
              ログイン / サインアップ
            </button>
            <button class="btn btn-ghost" id="btn-logout" style="display: none;">
              ログアウト
            </button>
          </div>
          <div class="account-buttons" style="margin-top: 8px;">
            <button class="btn btn-ghost" id="btn-toggle-sections">追加パネルを表示</button>
          </div>
        </section>
      
        <section class="card profile-card" id="profile-section" data-collapsible="profile-details" data-default-open="false">
          <div class="card-header">
            <div class="card-title" id="profile-title">プロフィール</div>
            <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
          </div>
          <div class="profile-body">
            <div class="profile-header">
              <div class="avatar avatar-lg" id="profile-avatar">-</div>
              <div class="profile-identity">
                <div id="profile-name" class="profile-name">-</div>
                <div id="profile-email" class="profile-email">-</div>
              </div>
            </div>
            <div class="profile-meta" id="profile-meta">
              <span id="profile-posts">投稿数: -</span>
              <span id="profile-streak">-</span>
            </div>
            <div class="collapsible-content" data-collapsible-content>
              <div id="profile-bio" class="profile-bio">-</div>
              <div class="profile-quick-stats" id="profile-quick-stats"></div>
              <div class="profile-stats-grid" id="profile-stats-grid"></div>
              <div class="profile-banner" id="profile-banner"></div>
              <div class="card-sub" id="profile-facts-title">プロフィール情報</div>
              <div class="profile-facts" id="profile-facts"></div>
              <div class="card-sub" id="profile-highlights-title">ハイライト</div>
              <div class="profile-highlights" id="profile-highlights"></div>
              <div class="card-sub" id="profile-links-title">リンク</div>
              <div class="profile-links" id="profile-links"></div>
            </div>
          </div>
        </section>

        <section class="card extra-section hidden" id="onboarding-section" style="margin-top: 12px;">
          <div class="card-title" id="onboarding-title">はじめての設定</div>
          <div class="card-sub" id="onboarding-sub">チェックしながら始めましょう。</div>
          <div class="onboarding-progress">
            <div class="onboarding-progress-bar" id="onboarding-bar"></div>
          </div>
          <div class="onboarding-meta" id="onboarding-meta">0/0</div>
          <div id="checklist" class="checklist"></div>
          <div class="onboarding-actions">
            <button class="btn btn-primary" id="btn-onboarding-post">初投稿する</button>
            <button class="btn btn-ghost" id="btn-onboarding-profile">プロフィールを整える</button>
          </div>
          <div id="onboarding-status" class="template-status"></div>
        </section>

        <section class="card" id="profile-edit-section" style="margin-top: 12px;">
          <div class="card-title" id="profile-edit-title">プロフィール編集</div>
          <div class="card-sub" id="profile-edit-sub">
            表示名や自己紹介を更新できます。
          </div>

          <div class="profile-edit-group">
            <div class="profile-edit-group-title" id="profile-edit-basics-title">基本</div>
            <div class="profile-editor">
              <div class="field">
                <label id="profile-display-label">表示名</label>
                <input id="profile-display" type="text" placeholder="表示名を入力" />
              </div>
              <div class="field field-span">
                <label id="profile-bio-label">自己紹介</label>
                <textarea id="profile-bio-input" placeholder="筋トレのこだわりなど"></textarea>
              </div>
            </div>
          </div>

          <div class="profile-edit-group" data-collapsible="profile-edit-identity" data-default-open="false">
            <div class="profile-edit-group-header">
              <div class="profile-edit-group-title" id="profile-edit-identity-title">プロフィール詳細</div>
              <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
            </div>
            <div class="profile-editor collapsible-content" data-collapsible-content>
              <div class="field">
                <label id="profile-handle-label">ハンドル</label>
                <input id="profile-handle" type="text" placeholder="handle" />
              </div>
              <div class="field">
                <label id="profile-location-label">場所</label>
                <input id="profile-location" type="text" placeholder="Tokyo" />
              </div>
              <div class="field">
                <label id="profile-height-label">身長</label>
                <input id="profile-height" type="number" placeholder="170" />
              </div>
            </div>
          </div>

          <div class="profile-edit-group" data-collapsible="profile-edit-training" data-default-open="false">
            <div class="profile-edit-group-header">
              <div class="profile-edit-group-title" id="profile-edit-training-title">トレーニング詳細</div>
              <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
            </div>
            <div class="profile-editor collapsible-content" data-collapsible-content>
              <div class="field">
                <label id="profile-experience-label">経験</label>
                <select id="profile-experience"></select>
              </div>
              <div class="field">
                <label id="profile-goal-label">目標</label>
                <input id="profile-goal" type="text" placeholder="筋肥大 / パワーアップ" />
              </div>
              <div class="field">
                <label id="profile-gym-label">ジム</label>
                <input id="profile-gym" type="text" placeholder="Anytime Fitness" />
              </div>
              <div class="field">
                <label id="profile-split-label">分割</label>
                <input id="profile-split" type="text" placeholder="Push/Pull/Legs" />
              </div>
              <div class="field field-span">
                <label id="profile-favorite-label">好きな種目</label>
                <textarea id="profile-favorite" placeholder="Bench, Squat, Deadlift"></textarea>
              </div>
            </div>
          </div>

          <div class="profile-edit-group" data-collapsible="profile-edit-media" data-default-open="false">
            <div class="profile-edit-group-header">
              <div class="profile-edit-group-title" id="profile-edit-media-title">メディア / テーマ</div>
              <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
            </div>
            <div class="profile-editor collapsible-content" data-collapsible-content>
              <div class="field">
                <label id="profile-avatar-label">アバターURL</label>
                <input id="profile-avatar-url" type="text" placeholder="https://" />
              </div>
              <div class="field">
                <label id="profile-avatar-upload-label">アバターをアップロード</label>
                <input id="profile-avatar-file" type="file" accept="image/*" />
              </div>
              <div class="field">
                <label id="profile-banner-label">バナーURL</label>
                <input id="profile-banner-url" type="text" placeholder="https://" />
              </div>
              <div class="field">
                <label id="profile-banner-upload-label">バナーをアップロード</label>
                <input id="profile-banner-file" type="file" accept="image/*" />
              </div>
              <div class="field">
                <label id="profile-accent-label">アクセント色</label>
                <input id="profile-accent" type="color" value="#e4572e" />
              </div>
            </div>
          </div>

          <div class="profile-edit-group" data-collapsible="profile-edit-links" data-default-open="false">
            <div class="profile-edit-group-header">
              <div class="profile-edit-group-title" id="profile-edit-links-title">リンク</div>
              <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
            </div>
            <div class="profile-editor collapsible-content" data-collapsible-content>
              <div class="field">
                <label id="profile-instagram-label">Instagram</label>
                <input id="profile-instagram" type="text" placeholder="instagram_id" />
              </div>
              <div class="field">
                <label id="profile-tiktok-label">TikTok</label>
                <input id="profile-tiktok" type="text" placeholder="tiktok_id" />
              </div>
              <div class="field">
                <label id="profile-youtube-label">YouTube</label>
                <input id="profile-youtube" type="text" placeholder="youtube.com/..." />
              </div>
              <div class="field">
                <label id="profile-website-label">Web</label>
                <input id="profile-website" type="text" placeholder="https://" />
              </div>
            </div>
          </div>

          <div class="form-actions" style="margin-top: 8px;">
            <button class="btn btn-primary" id="btn-save-profile">保存</button>
          </div>
          <div class="template-status" id="profile-edit-status"></div>
        </section>

        <section class="card" id="notifications-section" style="margin-top: 12px;">
          <div class="card-title" id="notifications-title">通知</div>
          <div class="card-sub" id="notifications-sub">
            コメントやフォローがここに届きます。
          </div>
          <div class="notification-actions">
            <button class="btn btn-ghost" id="btn-refresh-notifications">更新</button>
            <button class="btn btn-ghost" id="btn-mark-all-read">全て既読</button>
          </div>
          <div id="notification-list" class="notification-list"></div>
          <div id="notification-status" class="template-status"></div>
        </section>

        <section class="card" id="history-section" style="margin-top: 12px;">
          <div class="card-title" id="history-title">ワークアウト履歴</div>
          <div class="card-sub" id="history-sub">
            最近のトレーニングを確認できます。
          </div>
          <div id="history-list" class="notification-list"></div>
          <div id="history-status" class="template-status"></div>
        </section>

        <section class="card" id="summary-section" style="margin-top: 12px;" data-collapsible="summary-details" data-default-open="false">
          <div class="card-header">
            <div>
              <div class="card-title" id="summary-title">トレーニングまとめ</div>
              <div class="card-sub" id="summary-sub">直近7日間のサマリー</div>
            </div>
            <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
          </div>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-label" id="summary-workouts-label">ワークアウト数(7日)</div>
              <div class="summary-value" id="summary-workouts">-</div>
            </div>
            <div class="summary-item">
              <div class="summary-label" id="summary-volume-label">総ボリューム</div>
              <div class="summary-value" id="summary-volume">-</div>
            </div>
            <div class="summary-item">
              <div class="summary-label" id="summary-exercises-label">種目数</div>
              <div class="summary-value" id="summary-exercises">-</div>
            </div>
            <div class="summary-item">
              <div class="summary-label" id="summary-prs-label">今週のPR</div>
              <div class="summary-value" id="summary-prs">-</div>
            </div>
          </div>
          <div id="summary-status" class="template-status"></div>
          <div class="collapsible-content" data-collapsible-content>
            <div class="summary-grid">
              <div class="summary-item">
                <div class="summary-label" id="summary-sets-label">総セット数</div>
                <div class="summary-value" id="summary-sets">-</div>
              </div>
              <div class="summary-item">
                <div class="summary-label" id="summary-reps-label">総レップ数</div>
                <div class="summary-value" id="summary-reps">-</div>
              </div>
              <div class="summary-item">
                <div class="summary-label" id="summary-avg-reps-label">平均レップ/セット</div>
                <div class="summary-value" id="summary-avg-reps">-</div>
              </div>
              <div class="summary-item">
                <div class="summary-label" id="summary-weight-label">最新体重</div>
                <div class="summary-value" id="summary-weight">-</div>
              </div>
            </div>
            <div class="card-title" id="summary-activity-title" style="margin-top: 12px;">7日間の活動</div>
            <div id="summary-chart" class="summary-chart"></div>
            <div class="card-title" id="summary-top-title" style="margin-top: 12px;">今週の上位種目</div>
            <div id="summary-toplist" class="summary-toplist"></div>
            <div class="card-title" id="pr-title" style="margin-top: 12px;">パーソナルレコード</div>
            <div class="card-sub" id="pr-sub">自己ベスト</div>
            <div id="pr-list" class="notification-list"></div>
            <div id="pr-status" class="template-status"></div>
          </div>
        </section>

        <section class="card extra-section hidden" id="insights-section" style="margin-top: 12px;">
          <div class="card-title" id="insights-title">週間インサイト</div>
          <div class="card-sub" id="insights-sub">今週のハイライト</div>
          <div id="insights-grid" class="insight-grid"></div>
          <div id="insights-status" class="template-status"></div>
        </section>
      </div>

      <!-- 公開プロフィール ページ -->
      <div class="page-view" data-page="public-profile">
        <section class="card profile-card" id="public-profile-card" data-collapsible="public-profile-details" data-default-open="false">
          <div class="card-header">
            <div class="card-title" id="public-profile-title">Profile</div>
            <div class="public-profile-header-actions">
              <button class="btn btn-ghost btn-xs" id="btn-back-to-feed">戻る</button>
              <button class="btn btn-ghost btn-xs" id="btn-share-profile">共有</button>
              <button class="btn btn-ghost btn-xs" data-collapsible-btn>Show more</button>
            </div>
          </div>
          <div class="public-profile-header">
            <div class="public-profile-main">
              <div class="avatar avatar-lg" id="public-profile-avatar">-</div>
              <div>
                <div class="public-profile-name" id="public-profile-name">-</div>
                <div class="card-sub" id="public-profile-handle">-</div>
              </div>
            </div>
            <div class="public-profile-actions">
              <button class="btn btn-primary" id="btn-public-follow">フォロー</button>
            </div>
          </div>
          <div class="profile-meta" id="public-profile-meta">
            <span id="public-profile-posts">-</span>
            <span id="public-profile-streak">-</span>
          </div>
          <div class="public-profile-bio" id="public-profile-bio"></div>
          <div class="profile-quick-stats hidden" id="public-profile-quick-stats"></div>
          <div class="collapsible-content" data-collapsible-content>
            <div class="profile-stats-grid hidden" id="public-profile-stats-grid"></div>
            <div class="profile-banner" id="public-profile-banner"></div>
            <div class="card-sub" id="public-profile-facts-title">プロフィール情報</div>
            <div class="profile-facts" id="public-profile-facts"></div>
            <div class="card-sub" id="public-profile-highlights-title">ハイライト</div>
            <div class="profile-highlights" id="public-profile-highlights"></div>
            <div class="card-sub" id="public-profile-links-title">リンク</div>
            <div class="profile-links" id="public-profile-links"></div>
          </div>
          <div id="public-profile-posts-list" class="feed-list public-profile-posts" style="margin-top: 12px;"></div>
          <div class="feed-more hidden" id="public-posts-more">
            <div class="feed-more-hint" id="public-posts-hint"></div>
            <button class="btn btn-ghost" id="btn-public-posts-more">もっと見る</button>
          </div>
        </section>
        <section class="card" style="margin-top: 12px;">
          <div class="card-title" id="gallery-title">Progress Gallery</div>
          <div id="public-profile-gallery" class="gallery-grid"></div>
          <div id="public-profile-gallery-status" class="template-status"></div>
          <div class="gallery-pagination">
            <button class="btn btn-ghost" id="btn-gallery-prev">Prev</button>
            <div class="gallery-page" id="gallery-page">1 / 1</div>
            <button class="btn btn-ghost" id="btn-gallery-next">Next</button>
          </div>
        </section>
      </div>
  
      <!-- 設定 ページ -->
      <div class="page-view" data-page="settings">
        <section class="card" id="settings-overview">
          <div class="card-title" id="settings-title">Settings</div>
          <div class="card-sub" id="settings-sub">
            アプリの表示や通知、単位をまとめて調整できます。
          </div>
          <div class="settings-actions">
            <button class="btn btn-ghost" id="btn-settings-expand">全部表示</button>
          </div>
          <div class="settings-summary" id="settings-summary"></div>
          <div class="settings-hero" id="settings-hero">
            <div class="settings-hero-item">
              <div class="settings-info">
                <div class="settings-title" id="settings-compact-title">コンパクトモード</div>
                <div class="settings-desc" id="settings-compact-desc">カード間の余白を減らします。</div>
              </div>
              <label class="toggle">
                <input type="checkbox" id="settings-compact" />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="settings-hero-item">
              <div class="settings-info">
                <div class="settings-title" id="settings-show-feed-stats-title">フィード統計を表示</div>
                <div class="settings-desc" id="settings-show-feed-stats-desc">今日/連続/合計の統計を表示。</div>
              </div>
              <label class="toggle">
                <input type="checkbox" id="settings-show-feed-stats" />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="settings-hero-item">
              <div class="settings-info">
                <div class="settings-title" id="settings-show-extra-title">追加パネルを表示</div>
                <div class="settings-desc" id="settings-show-extra-desc">オンボーディングとインサイトを表示します。</div>
              </div>
              <label class="toggle">
                <input type="checkbox" id="settings-show-extra" />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
          <div class="settings-presets" id="settings-presets">
            <button class="btn btn-ghost" id="btn-settings-recommended">おすすめ</button>
            <button class="btn btn-ghost" id="btn-settings-minimal">ミニマル</button>
            <button class="btn btn-ghost" id="btn-settings-full">フル表示</button>
          </div>
          <div class="settings-quick" id="settings-quick">
            <button class="settings-quick-card" data-preset="recommended" id="preset-card-recommended">
              <div class="settings-quick-icon">R</div>
              <div>
                <div class="settings-quick-title" id="preset-recommended-title">おすすめ</div>
                <div class="settings-quick-desc" id="preset-recommended-desc">毎日使いやすい</div>
              </div>
              <div class="settings-quick-badge" id="preset-badge-recommended">選択中</div>
            </button>
            <button class="settings-quick-card" data-preset="minimal" id="preset-card-minimal">
              <div class="settings-quick-icon">M</div>
              <div>
                <div class="settings-quick-title" id="preset-minimal-title">ミニマル</div>
                <div class="settings-quick-desc" id="preset-minimal-desc">軽く見たい人向け</div>
              </div>
              <div class="settings-quick-badge" id="preset-badge-minimal">選択中</div>
            </button>
            <button class="settings-quick-card" data-preset="balanced" id="preset-card-balanced">
              <div class="settings-quick-icon">B</div>
              <div>
                <div class="settings-quick-title" id="preset-balanced-title">バランス</div>
                <div class="settings-quick-desc" id="preset-balanced-desc">必要な情報だけ</div>
              </div>
              <div class="settings-quick-badge" id="preset-badge-balanced">選択中</div>
            </button>
            <button class="settings-quick-card" data-preset="full" id="preset-card-full">
              <div class="settings-quick-icon">F</div>
              <div>
                <div class="settings-quick-title" id="preset-full-title">フル表示</div>
                <div class="settings-quick-desc" id="preset-full-desc">全部見たい人向け</div>
              </div>
              <div class="settings-quick-badge" id="preset-badge-full">選択中</div>
            </button>
          </div>
        </section>

        <div class="settings-group">
          <div class="settings-group-title" id="settings-group-basics">基本</div>
          <div class="settings-group-grid">
            <section class="card" data-collapsible="settings-preferences" data-default-open="true">
              <div class="card-header">
                <div>
                  <div class="card-title" id="settings-preferences-title">基本設定</div>
                  <div class="card-sub" id="settings-preferences-sub">表示と投稿のデフォルト</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="settings-list settings-grid">
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-default-filter-title">フィードの初期フィルター</div>
                      <div class="settings-desc" id="settings-default-filter-desc">アプリ起動時のデフォルト。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-default-filter">
                        <option value="all" id="settings-default-filter-all">すべて</option>
                        <option value="mine" id="settings-default-filter-mine">自分</option>
                      </select>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-feed-layout-title">フィード表示</div>
                      <div class="settings-desc" id="settings-feed-layout-desc">リスト or グリッド。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-feed-layout">
                        <option value="list" id="settings-feed-layout-list">リスト</option>
                        <option value="grid" id="settings-feed-layout-grid">グリッド</option>
                      </select>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-default-visibility-title">投稿の初期公開範囲</div>
                      <div class="settings-desc" id="settings-default-visibility-desc">新規投稿の公開範囲。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-default-visibility">
                        <option value="public" id="settings-default-visibility-public">Public</option>
                        <option value="private" id="settings-default-visibility-private">自分のみ</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="card" data-collapsible="settings-privacy" data-default-open="false">
              <div class="card-header">
                <div>
                  <div class="card-title" id="settings-privacy-title">プロフィールと表示</div>
                  <div class="card-sub" id="settings-privacy-sub">見せる情報を調整します。</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="settings-list settings-grid">
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-show-email-title">メールを表示</div>
                      <div class="settings-desc" id="settings-show-email-desc">プロフィールのメール欄を表示。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-show-email" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-show-profile-stats-title">プロフィール統計を表示</div>
                      <div class="settings-desc" id="settings-show-profile-stats-desc">投稿数やフォロー数を表示。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-show-profile-stats" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-show-bodyweight-title">体重を表示</div>
                      <div class="settings-desc" id="settings-show-bodyweight-desc">フィード内の体重表示を切替。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-show-bodyweight" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-title" id="settings-group-social">通知・表示</div>
          <div class="settings-group-grid">
            <section class="card" data-collapsible="settings-notifications" data-default-open="false">
              <div class="card-header">
                <div>
                  <div class="card-title" id="settings-notifications-title">通知</div>
                  <div class="card-sub" id="settings-notifications-sub">表示する通知タイプ。</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="settings-list settings-grid">
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-notify-like-title">いいね通知</div>
                      <div class="settings-desc" id="settings-notify-like-desc">いいねの通知を表示。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-notify-like" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-notify-comment-title">コメント通知</div>
                      <div class="settings-desc" id="settings-notify-comment-desc">コメントの通知を表示。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-notify-comment" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-notify-follow-title">フォロー通知</div>
                      <div class="settings-desc" id="settings-notify-follow-desc">フォローの通知を表示。</div>
                    </div>
                    <label class="toggle">
                      <input type="checkbox" id="settings-notify-follow" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>
                <div class="settings-actions">
                  <button class="btn btn-ghost" id="btn-settings-mark-read">全て既読</button>
                </div>
                <div class="settings-note" id="settings-notifications-note">
                  この設定は端末内の表示にのみ反映されます。
                </div>
              </div>
            </section>

            <section class="card" data-collapsible="settings-language" data-default-open="false">
              <div class="card-header">
                <div>
                  <div class="card-title" id="settings-language-title">言語と単位</div>
                  <div class="card-sub" id="settings-language-sub">表示形式と単位を切り替え。</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="settings-list settings-grid">
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-language-label">言語</div>
                      <div class="settings-desc" id="settings-language-desc">UIの表示言語。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-language">
                        <option value="ja">日本語</option>
                        <option value="en">English</option>
                      </select>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-date-format-label">日付形式</div>
                      <div class="settings-desc" id="settings-date-format-desc">フィードや通知の日付表示。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-date-format">
                        <option value="auto" id="settings-date-format-auto">自動</option>
                        <option value="ymd" id="settings-date-format-ymd">YYYY/MM/DD</option>
                        <option value="mdy" id="settings-date-format-mdy">MM/DD/YYYY</option>
                      </select>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-weight-unit-label">重量単位</div>
                      <div class="settings-desc" id="settings-weight-unit-desc">体重とセットの重さ。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-weight-unit">
                        <option value="kg" id="settings-weight-unit-kg">kg</option>
                        <option value="lb" id="settings-weight-unit-lb">lb</option>
                      </select>
                    </div>
                  </div>
                  <div class="settings-item">
                    <div class="settings-info">
                      <div class="settings-title" id="settings-height-unit-label">身長単位</div>
                      <div class="settings-desc" id="settings-height-unit-desc">プロフィールの身長表示。</div>
                    </div>
                    <div class="settings-control">
                      <select class="settings-select" id="settings-height-unit">
                        <option value="cm" id="settings-height-unit-cm">cm</option>
                        <option value="in" id="settings-height-unit-in">in</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <div class="settings-group">
          <div class="settings-group-title" id="settings-group-tools">管理・ツール</div>
          <div class="settings-group-grid">
            <section class="card" data-collapsible="settings-data" data-default-open="false">
              <div class="card-header">
                <div>
                  <div class="card-title" id="settings-data-title">データ管理</div>
                  <div class="card-sub" id="settings-data-sub">書き出しやリセット。</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="settings-actions">
                  <button class="btn btn-ghost" id="btn-export-data">データを書き出す</button>
                  <button class="btn btn-ghost" id="btn-clear-cache">キャッシュを削除</button>
                  <button class="btn btn-danger" id="btn-reset-settings">設定をリセット</button>
                </div>
                <div class="settings-note" id="settings-data-status"></div>
              </div>
            </section>

            <section class="card" data-collapsible="settings-templates" data-default-open="false" id="templates-section">
              <div class="card-header">
                <div>
                  <div class="card-title" id="templates-title">テンプレート</div>
                  <div class="card-sub" id="templates-sub">
                    よく使うメニューを保存しておくと投稿が早くなります。
                  </div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <div class="field">
                  <label id="template-name-label">テンプレ名</label>
                  <input id="template-name" type="text" placeholder="Push Day" />
                </div>
                <div class="field" style="margin-top: 8px;">
                  <label id="template-body-label">内容</label>
                  <textarea id="template-body" placeholder="Bench 5x5&#10;Incline DB 4x10"></textarea>
                </div>
                <div class="form-actions">
                  <button class="btn btn-primary" id="btn-save-template">保存</button>
                </div>
                <div id="template-list" class="template-list"></div>
                <div id="template-status" class="template-status"></div>
              </div>
            </section>

            <section class="card" data-collapsible="settings-tips" data-default-open="false" id="tips-section">
              <div class="card-header">
                <div>
                  <div class="card-title" id="tips-title">使い方</div>
                </div>
                <button class="btn btn-ghost btn-xs" data-collapsible-btn>もっと見る</button>
              </div>
              <div class="collapsible-content" data-collapsible-content>
                <ul class="tips-list">
                  <li id="tip1">毎日のトレを1行メモ。</li>
                  <li id="tip2">見られたくない日は「自分のみ」。</li>
                  <li id="tip3">画像アップでボディ変化を記録。</li>
                </ul>
              </div>
            </section>
          </div>
        </div>
      </div>
  
    </div> <!-- .layout 終わり -->

  <!-- 右下の小さい投稿ボタン -->
  <button class="fab" id="fab-open-post">＋</button>

  <!-- 投稿モーダル -->
  <div class="modal-backdrop hidden" id="post-modal-backdrop">
    <section class="card modal-panel">
      <div class="modal-header-row">
        <div class="card-title" id="new-post-title">新規投稿</div>
        <div class="modal-header-actions">
          <span class="draft-status" id="draft-status"></span>
          <button class="modal-close-btn" id="btn-post-close">×</button>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-basic">基本</div>
        <div class="grid-2">
          <div class="field">
            <label id="label-date">日付</label>
            <input type="date" id="post-date" />
          </div>
          <div class="field">
            <label id="label-weight">体重</label>
            <input type="number" id="post-weight" step="0.1" placeholder="77.4" />
          </div>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-media">メディア</div>
        <div class="field">
          <label id="label-media">画像 / 動画</label>
          <input id="post-media" type="file" accept="image/*,video/*" />
        </div>
        <div class="media-preview hidden" id="post-media-preview">
          <div class="media-preview-body" id="post-media-preview-body"></div>
          <div class="media-preview-actions">
            <span class="media-preview-note" id="post-media-preview-note"></span>
            <button class="btn btn-ghost btn-xs" type="button" id="btn-remove-media">削除</button>
          </div>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-workout">ワークアウト</div>
        <div class="field">
          <label id="label-log">ワークアウトログ</label>
          <div class="log-builder" id="log-builder">
            <div class="rest-timer">
              <span id="rest-timer-label">レストタイマー</span>
              <span class="rest-display" id="rest-timer-display">00:00</span>
              <button class="btn btn-ghost" id="btn-rest-stop">停止</button>
            </div>
            <div id="workout-exercises" class="workout-builder"></div>
            <button class="btn btn-ghost" id="btn-add-exercise">種目を追加</button>
            <div class="template-status" id="log-status"></div>
          </div>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-caption">キャプション</div>
        <div class="field">
          <label id="label-caption">キャプション / トレメモ</label>
          <textarea id="post-caption" placeholder="bench 100"></textarea>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-template">テンプレート</div>
        <div class="field">
          <label id="label-template">テンプレート</label>
          <select id="post-template"></select>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title" id="post-section-visibility">公開範囲</div>
        <div class="grid-2">
          <div class="field">
            <label id="label-visibility">公開範囲</label>
            <select id="post-visibility">
              <option value="public" id="visibility-public">Public</option>
              <option value="private" id="visibility-private">自分のみ</option>
            </select>
          </div>
        </div>
      </div>
      <div class="form-actions">
        <button class="btn btn-ghost" type="button" id="btn-clear-draft">下書きを削除</button>
        <button class="btn btn-primary" id="btn-submit">投稿</button>
        <button class="btn btn-ghost" type="button" id="btn-reset">リセット</button>
      </div>
      <div class="draft-hint" id="draft-hint">下書きは自動保存されます。</div>
      <div id="login-required">ログインしてください。</div>
    </section>
  </div>

  <!-- 投稿詳細モーダル -->
  <div class="modal-backdrop hidden" id="detail-modal-backdrop">
    <section class="card modal-panel detail-panel">
      <div class="modal-header-row">
        <div class="card-title" id="detail-title">投稿詳細</div>
        <button class="modal-close-btn" id="btn-detail-close">×</button>
      </div>
      <div class="detail-header" id="detail-header"></div>
      <div id="detail-media"></div>
      <div class="detail-section" id="detail-body"></div>
      <div class="detail-section">
        <div class="card-sub" id="detail-workout-title">Workout</div>
        <div class="detail-workout" id="detail-workout"></div>
      </div>
      <div class="detail-section">
        <div class="card-sub" id="detail-comments-title">Comments</div>
        <div id="detail-comments"></div>
      </div>
    </section>
  </div>

  <div class="modal-backdrop hidden" id="media-modal-backdrop">
    <section class="media-modal-content">
      <button class="modal-close-btn" id="btn-media-close">×</button>
      <div id="media-modal-body"></div>
    </section>
  </div>

  <div class="toast-container" id="toast-container"></div>
</body>
</html>
